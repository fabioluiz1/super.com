# SQLAlchemy 2.0 vs ActiveRecord vs Prisma

Python's ORM — similar to ActiveRecord in Rails or Prisma in Node, but it separates the query builder from the model definition.

## Query style comparison

```ruby
# ActiveRecord (Rails) — query is coupled to the model class
Deal.where(city: "Toronto")
```

```javascript
// Prisma (Node) — query goes through a client object
await prisma.deal.findMany({ where: { city: "Toronto" } });
```

```python
# SQLAlchemy — explicit query builder, separate from the model
select(Deal).where(Deal.city == "Toronto")
```

You write ORM queries, never raw SQL, but you control the full query shape — joins, subqueries, window functions, CTEs all work.

## Relationships

Supports 1:N and M:N relationships via `relationship()` with `back_populates` and association tables.

## Typed models (2.0)

Version 2.0 adds `Mapped[]` type annotations so mypy checks every model field and query result at compile time:

```python
class Deal(Base):
    __tablename__ = "deals"
    id: Mapped[int] = mapped_column(primary_key=True)
    city: Mapped[str]
    price_per_night: Mapped[Decimal]
```
